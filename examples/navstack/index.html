<!doctype html>
<html lang="en" ng-app="navstack">
<head>
  <meta charset="utf-8">
  <meta name="viewport" 
        content="initial-scale=1.0,
                 minimum-scale=1.0,
                 maximum-scale=1.0,
                 width=device-width,
                 user-scalable=no" />
    <script src="/dist/js/angular/angular.js"></script>
    <script src="/dist/js/angular/angular-animate.js"></script>
    <script src="/dist/js/underscore.js"></script>
    <script src="/dist/rfz.js"></script>
    <script src="js/controllers.js"></script>
    <link href="/dist/css/reset.css" rel="stylesheet">
    <link href="/dist/rfz.css" rel="stylesheet">
    <style>
      li {
      list-style-type : none;
      line-height:50px;
      height:50px;
      padding-left:20px;
      vertical-align:middle;
      border-bottom:1px solid #a1a1a1;
      transition:color 0.2s ease-out, background 0.2s ease-out;
      }

      li.pointer-start, li.active-item {
        background:#909090;
        color:#fff;
      }

      li.pointer-start {
        transition:none !important;
      }

    </style>
  <title>Nav Stack</title>
</head>
<body class="rfz-os-{{$rfzPlatform.os}} rfz-os-version-{{$rfzPlatform.version.major}}">
  <div rfz-view-stack="main">
    <div rfz-view="main" ng-controller="ItemList" class="rfz-view-has-header">
      <div rfz-view-header="Items"></div>
      <div rfz-view-body>
        <div rfz-scroll-view can-scroll-x="false">
          <ul rfz-scroll-view-body>
            {{$rfzPlatform.os}}
            <li ng-repeat="item in items" class="ITEM"
                rfz-tap="openItem(item); $rfzViewStack.$push('item','side')"
                rfz-tap-claim-x="true"
                rfz-tap-delayed-claim="3000"
                ng-class="{'active-item' : item.active}">
              {{item.name}} plus some more
            </li>
          </ul>
        </div>
      </div>
    </div>

    <div rfz-view="item" class="rfz-view-has-header">
      <div rfz-view-header="General" something="{{$rfzViewProperties.previous.selectedItem.name}}">
        <div rfz-view-header-button position="left" type="back"
             rfz-tap="$rfzViewStack.$pop()">
          {{$rfzViewProperties.previous.title}}
        </div>
      </div>
      <div rfz-view-body rfz-scroll-view can-scroll-x="false">
        <div rfz-scroll-view-body>
          {{$rfzViewProperties.previous.selectedItem}}
          <div rfz-tap="$rfzViewStack.$push('item2', 'slide')" rfz-tap-claim-x="true">Next</div>
        </div>
      </div>
    </div>
    <div rfz-view="item2" class="rfz-view-has-header">
      <div rfz-view-header="Something More">
        <div rfz-view-header-button position="left" type="back"
             rfz-tap="$rfzViewStack.$pop()">
          {{$rfzViewProperties.previous.title}}
        </div>
      </div>
      <div rfz-view-body rfz-scroll-view can-scroll-x="false">
        <div rfz-scroll-view-body>
          hello something
        </div>
      </div>
    </div>
  </div>
</body>
</html>
